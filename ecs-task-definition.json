{
  "family": "vaultnotary",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "512",
  "memory": "1024",
  "executionRoleArn": "arn:aws:iam::119107229504:role/ecsTaskExecutionRole",
  "taskRoleArn": "arn:aws:iam::119107229504:role/ecsTaskExecutionRole",
  "containerDefinitions": [
    {
      "name": "vaultnotary-api",
      "image": "119107229504.dkr.ecr.ap-southeast-1.amazonaws.com/vaultnotary:latest",
      "portMappings": [
        {
          "containerPort": 80,
          "protocol": "tcp"
        }
      ],
      "environment": [
        {
          "name": "ASPNETCORE_ENVIRONMENT",
          "value": "Production"
        },
        {
          "name": "ASPNETCORE_URLS",
          "value": "http://+:80"
        },
        {
          "name": "ConnectionStrings__DefaultConnection",
          "value": "Host=vaultnotary-db-prod.cx0ewaugo94q.ap-southeast-1.rds.amazonaws.com;Port=5432;Database=vaultnotary;Username=vaultnotary_user;Password=CatTu0ng080503"
        },
        {
          "name": "Aws__Region",
          "value": "ap-southeast-1"
        },
        {
          "name": "Aws__UseIamRole",
          "value": "false"
        },
        {
          "name": "Aws__AccessKey",
          "value": "AKIARXO2YC5AHWZKHPIN"
        },
        {
          "name": "Aws__SecretKey",
          "value": "h2bxRH39xAHICoQuzcjsHOWX5D2JDWk0Z+9eA3wI"
        },
        {
          "name": "Aws__S3__BucketName",
          "value": "vaultnotary-files-prod-119107229504"
        },
        {
          "name": "Aws__S3__FileKeyPrefix",
          "value": "files/"
        },
        {
          "name": "Aws__S3__PresignedUrlExpirationHours",
          "value": "24"
        },
        {
          "name": "Auth0__Domain",
          "value": "auth.nharong.vn"
        },
        {
          "name": "Auth0__Audience",
          "value": "https://vaultnotary-api"
        },
        {
          "name": "Aws__Kms__SymmetricKeyId",
          "value": "f9998863-7bd3-4682-98cc-cdecc2df87b2"
        },
        {
          "name": "RabbitMQ__ConnectionString",
          "value": "amqp://admin:password@rabbitmq:5672"
        },
        {
          "name": "RabbitMQ__DefaultUser",
          "value": "admin"
        },
        {
          "name": "RabbitMQ__DefaultPass",
          "value": "password"
        },
        {
          "name": "RateLimit__Window",
          "value": "15"
        },
        {
          "name": "RateLimit__MaxRequests",
          "value": "100"
        },
        {
          "name": "Auth0__ClientSecret",
          "value": "WPz9MWHqrQDqYlPZ5tL_oAxbISHC50MIAN3TE5pdWH3CdtTBv6zZLQZQW3DWc1_3"
        }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/aws/vaultnotary/app-prod",
          "awslogs-region": "ap-southeast-1",
          "awslogs-stream-prefix": "ecs"
        }
      },
      "essential": true
    }
  ]
}
